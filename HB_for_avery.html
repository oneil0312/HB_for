<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é–å½¤ç”Ÿæ—¥ç¶²é </title>
    <link rel="stylesheet" href="styles_happybirthday.css">
</head>
<body>
    <header>
        <h1>
            <span class="name">ğŸˆ é–å½¤ </span>
            <span class="celebration">ç”Ÿæ—¥å¿«æ¨‚ ğŸˆ</span>
        </h1>       
    </header>

    <section id="cake-section">
		<img src="IMG/birthdaycake.jpg" alt="ç”Ÿæ—¥è›‹ç³•" class="cake" />
		<div class="candles">
			<img src="IMG/candle_unburn.png" alt="è Ÿç‡­" class="candle" onmouseover="lightCandle(this)" />
			<img src="IMG/candle_unburn.png" alt="è Ÿç‡­" class="candle" onmouseover="lightCandle(this)" />
			<img src="IMG/candle_unburn.png" alt="è Ÿç‡­" class="candle" onmouseover="lightCandle(this)" />
		</div>
		<div class="wish-container"> <!-- æ–°å¢çš„å®¹å™¨ -->
			<button id="wish-button" class="hidden" onclick="makeWish()">è¨±é¡˜</button>
			<div id="wish-message" class="hidden">è«‹è¨±ä¸‹ä»Šå¹´çš„å¿ƒé¡˜</div>
		</div>
	</section>


    <section id="input-section">
        <label for="hint-input">è«‹è¼¸å…¥å‰å¹¾å¤©æ”¶é›†åˆ°çš„æç¤ºï¼š</label>
        <input type="text" id="hint-input" placeholder="è¼¸å…¥æç¤ºå­—">
        <button id="confirm-button">ç¢ºèª</button>
        <div id="result-message" class="hidden"></div>
		<div id="result-message" class="hidden"></div>
		<img id="qr-code" class="hidden" src="IMG/RickRoll.jpg" alt="QR Code" />

    </section>

    <footer>
        <p>Â©æ­å°¼æ­ç‰ˆæ¬Šå¤§æ¦‚å§</p>
    </footer>

    <script>
        const confirmButton = document.getElementById('confirm-button');
        const hintInput = document.getElementById('hint-input');
        const resultMessage = document.getElementById('result-message');
        let litCandles = 0;

    confirmButton.addEventListener('click', function() {
			const userInput = hintInput.value.trim().toLowerCase();
			if (userInput === 'regalo') {
				resultMessage.textContent = 'æ­£ç¢ºï¼è«‹æˆªåœ–å…Œæ›ç¦®ç‰©æˆ–æ˜¯æƒQRç¢¼';
				resultMessage.className = 'success';
				document.getElementById('qr-code').classList.remove('hidden'); // é¡¯ç¤ºQRç¢¼
			} else {
				resultMessage.textContent = 'éŒ¯èª¤ï¼è«‹å†è©¦ä¸€æ¬¡ã€‚';
				resultMessage.className = 'error';
				document.getElementById('qr-code').classList.add('hidden'); // éš±è—QRç¢¼
			}
			resultMessage.classList.remove('hidden');
			hintInput.value = ''; // æ¸…ç©ºè¼¸å…¥æ¡†
		});


        function lightCandle(candle) {
            candle.src = 'IMG/candle.png'; // æ›¿æ›ç‚ºé»ç‡ƒè Ÿç‡­çš„åœ–ç‰‡
            litCandles++;
            if (litCandles === 3) { // å‡è¨­æœ‰ä¸‰æ ¹è Ÿç‡­
                document.getElementById('wish-button').classList.remove('hidden');
            }
        }

		function makeWish() {
			document.getElementById('wish-message').classList.remove('hidden');
			setTimeout(extinguishCandles, 10000); // 10ç§’å¾Œç†„æ»…è Ÿç‡­
		}


        function extinguishCandles() {
            const candles = document.querySelectorAll('.candle');
            candles.forEach(candle => {
                candle.src = 'IMG/candle_unburn.png'; // æ¢å¾©ç‚ºæœªé»ç‡ƒçš„è Ÿç‡­åœ–ç‰‡
            });
            document.getElementById('wish-button').classList.add('hidden');
            document.getElementById('wish-message').classList.add('hidden');
            litCandles = 0; // é‡ç½®é»ç‡ƒçš„è Ÿç‡­æ•¸é‡
        }
    </script>
</body>
</html>
