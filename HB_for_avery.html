<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é–å½¤ç”Ÿæ—¥ç¶²é </title>
    <link rel="stylesheet" href="styles_happybirthday.css">
</head>
<body>
    <header>
        <h1>
            <span class="name">ğŸˆ é–å½¤ </span>
            <span class="celebration">ç”Ÿæ—¥å¿«æ¨‚ ğŸˆ</span>
        </h1>       
    </header>

    <main>
        <section id="cake-section">
            <img src="IMG/birthdaycake.jpg" alt="ç”Ÿæ—¥è›‹ç³•" class="cake" />
            <div class="candles">
                <img src="IMG/candle_unburn.png" alt="è Ÿç‡­" class="candle" onmouseover="lightCandle(this)" />
                <img src="IMG/candle_unburn.png" alt="è Ÿç‡­" class="candle" onmouseover="lightCandle(this)" />
                <img src="IMG/candle_unburn.png" alt="è Ÿç‡­" class="candle" onmouseover="lightCandle(this)" />
            </div>
			
            <div class="wish-container"> 
                <button id="wish-button" class="hidden" onclick="makeWish()">è¨±é¡˜</button>
                <div id="wish-message" class="hidden">è«‹è¨±ä¸‹ä»Šå¹´çš„å¿ƒé¡˜</div>
            </div>
        </section>

        <section id="input-section">
            <label for="hint-input">è«‹è¼¸å…¥å‰å¹¾å¤©æ”¶é›†åˆ°çš„æç¤ºï¼š</label>
            <input type="text" id="hint-input" placeholder="è¼¸å…¥æç¤ºå­—">
            <button id="confirm-button">ç¢ºèª</button>
            <div id="result-message" class="hidden"></div>
            <img id="qr-code" class="hidden" src="IMG/RickRoll.jpg" alt="QR Code" />
        </section>
	<div id="fireworks-container" class="hidden"></div>
	<div id="overlay" class="hidden"></div>
    </main>

    <footer>
        <p>Â© æ­å°¼æ­ç‰ˆæ¬Šå¤§æ¦‚å§</p>
    </footer>

    <script>
        const confirmButton = document.getElementById('confirm-button');
        const hintInput = document.getElementById('hint-input');
        const resultMessage = document.getElementById('result-message');
        let litCandles = 0; // ç´€éŒ„å·²é»äº®çš„è Ÿç‡­æ•¸é‡

        confirmButton.addEventListener('click', function() {
            const userInput = hintInput.value.trim().toLowerCase();
            if (userInput === 'regalo') {
                resultMessage.textContent = 'æ­£ç¢ºï¼è«‹æˆªåœ–å…Œæ›ç¦®ç‰©æˆ–æ˜¯æƒQRç¢¼';
                resultMessage.className = 'success'; // é¡¯ç¤ºæˆåŠŸæ¨£å¼
                document.getElementById('qr-code').classList.remove('hidden'); // é¡¯ç¤ºQRç¢¼
            } else {
                resultMessage.textContent = 'éŒ¯èª¤ï¼è«‹å†è©¦ä¸€æ¬¡ã€‚';
                resultMessage.className = 'error'; // é¡¯ç¤ºéŒ¯èª¤æ¨£å¼
                document.getElementById('qr-code').classList.add('hidden'); // éš±è—QRç¢¼
            }
            resultMessage.classList.remove('hidden');
            hintInput.value = ''; // æ¸…ç©ºè¼¸å…¥æ¡†
        });

        function lightCandle(candle) {
			if (candle.src.includes('candle_unburn.png')) {
				candle.src = 'IMG/candle.png'; // æ›´æ›ç‚ºé»ç‡ƒçš„è Ÿç‡­åœ–ç‰‡
				litCandles++;
				if (litCandles === 3) { // ç•¶æ‰€æœ‰è Ÿç‡­é»äº®æ™‚ï¼Œé¡¯ç¤ºè¨±é¡˜æŒ‰éˆ•
					document.getElementById('wish-button').classList.remove('hidden');
				}
			}
		}
		function makeWish() {
			// é»ä¸‹è¨±é¡˜æŒ‰éˆ•å¾Œé¡¯ç¤ºè¨Šæ¯ï¼Œä¸¦åœ¨10ç§’å¾Œç†„æ»…è Ÿç‡­
			document.getElementById('wish-message').classList.remove('hidden');
			setTimeout(extinguishCandles, 10000); // 10ç§’å¾Œç†„æ»…è Ÿç‡­
		}

		function extinguishCandles() {
			const candles = document.querySelectorAll('.candle');
			candles.forEach(candle => {
				candle.src = 'IMG/candle_unburn.png'; // æ›´æ›å›æœªé»ç‡ƒçš„è Ÿç‡­åœ–ç‰‡
			});
			// éš±è—è¨±é¡˜æŒ‰éˆ•å’Œè¨Šæ¯ï¼Œé‡ç½®å·²é»äº®çš„è Ÿç‡­æ•¸é‡
			document.getElementById('wish-button').classList.add('hidden');
			document.getElementById('wish-message').classList.add('hidden');
			litCandles = 0;
		}
function createFireworks() {
    const container = document.getElementById("fireworks-container");

    // ç…™ç«æ•ˆæœç”Ÿæˆ
    for (let i = 0; i < 30; i++) { // å¯ä»¥èª¿æ•´ç…™ç«çš„é¡†æ•¸
        const firework = document.createElement("div");
        firework.classList.add("firework");

        // éš¨æ©Ÿä½ç½®
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;

        // éš¨æ©Ÿé¡è‰²å’Œå¤§å°
        const size = Math.random() * 20 + 10; // å¤§å°ç¯„åœï¼š10px åˆ° 30px
        const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
        
        firework.style.left = `${x}px`;
        firework.style.top = `${y}px`;
        firework.style.width = `${size}px`;
        firework.style.height = `${size}px`;
        firework.style.backgroundColor = color;
        
        container.appendChild(firework);

        // å‹•ç•«æ™‚é–“éš¨æ©ŸåŒ–
        firework.style.animationDuration = `${Math.random() * 1 + 0.5}s`; // æ™‚é–“ç¯„åœï¼š0.5s åˆ° 1.5s

        // å‹•ç•«çµæŸå¾Œç§»é™¤å…ƒç´ 
        firework.addEventListener("animationend", () => {
            firework.remove();
        });
    }

    // 5 ç§’å¾Œéš±è—ç…™ç«å®¹å™¨
    setTimeout(() => {
        container.classList.add("hidden");
    }, 2000);
}




// ä¿®æ”¹ lightCandle å’Œ makeWish å‡½æ•¸ä»¥è§¸ç™¼ç…™ç«
document.getElementById("wish-button").addEventListener("click", () => {
    document.getElementById("fireworks-container").classList.remove("hidden");
    createFireworks();
});
function lightCandle(candle) {
    if (candle.src.includes('candle_unburn.png')) {
        candle.src = 'IMG/candle.png'; // æ›´æ›ç‚ºé»ç‡ƒçš„è Ÿç‡­åœ–ç‰‡
        litCandles++;
        if (litCandles === 3) { // ç•¶æ‰€æœ‰è Ÿç‡­é»äº®æ™‚ï¼Œé¡¯ç¤ºè¨±é¡˜æŒ‰éˆ•ä¸¦å•Ÿå‹•ç…™ç«
            document.getElementById('wish-button').classList.remove('hidden');
            document.getElementById("fireworks-container").classList.remove("hidden");
            createFireworks();
        }
    }
}


    </script>
</body>
</html>
